# 善治美填表产品需求文档 (PRD) - 细化版

## 1. 引言

### 1.1 项目背景

当前乡村信息收集工作面临效率低下、数据分散、重复录入等诸多挑战。为解决这些问题，本项目旨在开发一款智能填表产品，通过AI辅助村庄进行表格录入，实现数据联动，减少二次录入，并逐步积累字段和数据，最终形成统一的“村级数据库”。

### 1.2 产品目标

- **短期目标**：提升村庄表格数据采集与录入效率，减轻村干部工作负担。

- **中期目标**：实现数据在不同表格间的智能联动与预填充，减少重复性工作。

- **长期目标**：构建全面、准确、持续更新的“村级数据库”，为乡村治理提供数据支撑。

### 1.3 目标用户

- **村两委**：主要操作者，负责任务发布、表格管理、数据审核与维护。

- **村民**：数据填报者，通过简洁界面完成信息填写。

## 2. 建设方向

本产品的建设将围绕以下核心方向展开：

1. **智能助手用AI辅助村庄录入表格**：利用人工智能技术，简化表格的创建、识别与数据录入过程。

1. **实现数据联动，减少二次录入**：通过智能映射和预填充机制，打通数据孤岛，避免重复性数据输入。

1. **逐步累计字段和数据，形成统一的“村级数据库”**：将每次收集的数据有效沉淀，不断丰富和完善村级核心数据资产。

## 3. 产品解法与功能规划

本产品将按照以下六个核心步骤提供解决方案：

### 3.1 任务启动：灵活的数字化建表（解决数据采集与录入效率低下的问题）

**描述**：当村干部接到上级任务后，可在“善治美”小程序上便捷地创建信息收集任务。

**角色**：村两委

**功能点**：

- **文件上传/拍照**：
  - **用户故事**：作为村两委成员，我希望能够快速上传上级下发的纸质表格或电子文件，以便我能立即开始分发任务。
    - **页面逻辑描述**：
      - 入口：小程序首页或任务管理页面的“新建任务”按钮。
      - 选择方式：提供“上传文件”、“微信聊天选择”、“拍照识别”三个选项。
      - 上传文件：支持上传Excel、图片（JPG, PNG）等格式文件。
      - 拍照识别：调用手机摄像头，提供拍照框引导，拍摄纸质表格。
      - 微信聊天选择：跳转至微信聊天记录，选择相关文件。

- **OCR识别（辅助手段）**：
  - **用户故事**：作为村两委成员，我希望系统能自动识别上传的表格内容，并生成可编辑的在线表单，同时允许我校对和修改识别结果，确保准确性。
    - **页面逻辑描述**：
      - 识别中状态：上传或拍照后，显示“正在识别中...”的加载动画。
      - 识别结果展示：识别完成后，将表格内容转化为在线表单，展示在页面上。
      - 校对与修改：提供字段名称、数据内容的编辑功能，支持点击修改、拖拽调整字段顺序等操作。高亮显示可能存在识别错误的区域。
      - 确认生成：村两委确认无误后，点击“生成表单”按钮，进入下一步。

- **任务创建与管理**：
  - **用户故事**：作为村两委成员，我希望能够清晰地查看和管理所有已创建、进行中和已完成的信息收集任务，方便我追踪进度和查找历史记录。
    - **页面逻辑描述**：
      - 任务列表页：展示所有任务，包含任务名称、创建时间、截止日期、当前状态（进行中/已完成/草稿）、收集进度（例如：50/100人已完成）。
      - 任务详情页：点击任务列表项进入，展示任务的详细信息，包括表单内容预览、参与村民范围、数据收集进度图表、通知记录等。
      - 任务筛选/搜索：提供按任务状态（进行中、已完成）、任务名称关键词、创建日期范围等进行筛选和搜索的功能。
      - 新建任务入口：在任务列表页面提供“新建任务”按钮，引导至文件上传/拍照流程。

### 3.2 数据预填：基于“村大表”的智能填充（解决数据整合与处理过程繁琐的问题）

**描述**：当村两委完成表单创建后，系统将立即启动“智能映射”引擎，自动匹配表单字段与“善治美村大表”中已有的数据，并预先填充村民信息。此步骤在任务发布前完成，为后续村民填写提供基础。

**角色**：村两委

**功能点**：

- **智能映射引擎**：
  - **用户故事**：作为村两委成员，我希望系统能智能识别新表单字段与“村大表”中的对应关系，并自动预填村民信息，减少我的手动操作和村民的填写负担。
    - **页面逻辑描述**：
      - 自动匹配：在表单生成后，系统后台自动运行智能映射，将新表单字段（如“姓名”、“身份证号”）与“村大表”中的对应字段进行匹配。
      - 智能猜测词典：系统内置并持续学习村级个性化的映射词典，例如将“身份证件号码”智能映射为“身份证号”，“联系方式”映射为“手机号”。

- **置信度显示与确认**：
  - **用户故事**：作为村两委成员，我希望系统能清晰地告诉我哪些字段是高置信度自动匹配的，哪些需要我重点检查和确认，以便我在发布任务前确保数据准确性。
    - **页面逻辑描述**：
      - 预填结果预览页：展示预填后的表单预览，其中预填数据以不同颜色或标签（如“自动填充”、“待确认”）区分。
      - 置信度提示：在每个预填字段旁显示置信度百分比或等级（如“高”、“中”、“低”）。
      - 高亮提醒：对于置信度低于阈值（例如60%）的字段，进行高亮显示或醒目提示，引导村两委进行检查。
      - 编辑与调整：村两委可点击任何预填字段进行手动修改，或调整字段的映射关系。
      - 确认发布：村两委确认所有预填数据无误后，点击“确认发布”按钮，进入任务发布环节。

### 3.3数据采集：可视化的多渠道任务执行（减轻数据从源头难以实现数字化的问题）

**描述**：系统为每个任务生成一个“任务看板”，村两委可清晰地看到数据采集的实时进度，并通过多种渠道通知和协助村民完成填报。

**角色**：村两委、村民

**功能点**：

- **任务看板（村两委视角）**：
  - **用户故事**：作为村两委成员，我希望能够实时掌握每个任务的收集进度，快速识别未完成的村民，并进行针对性催办。
    - **页面逻辑描述**：
      - 看板主页：以卡片或列表形式展示所有进行中的任务，每张卡片显示任务名称、截止日期、总人数、已完成人数、未完成人数。
      - 任务详情看板：点击任务卡片进入，顶部显示任务基本信息和整体进度条。下方是村民列表，包含姓名、联系方式、当前状态（已完成/未完成/代填中）。
      - 筛选/排序：支持按状态、姓名拼音、小组等进行筛选和排序。

- **线上通知（村两委通知村民）**：
  - **用户故事**：作为村两委成员，我希望能够方便快捷地向村民发送填报通知，并能选择通知范围，确保信息准确触达。
    - **页面逻辑描述**：
      - 通知入口：在任务详情看板页面，提供“发送通知”按钮。
        - 通知配置弹窗：
          - 通知文案：提供默认文案，并允许村两委自定义修改。
          - 通知对象：提供“全体村民”、“按组选择”、“指定村民”等选项，支持多选。
          - 发送预览：显示通知发送前的预览效果。
      - 发送成功提示：通知发送后，显示成功提示。

- **简洁填报界面（村民视角）**：
  - **用户故事**：作为村民，我希望收到通知后，能在一个操作简单、信息清晰的界面上完成信息填写，并且大部分信息已经被预填好，我只需核对和补充少量内容。
    - **页面逻辑描述**：
      - 小程序消息：村民在微信小程序中收到任务通知。
      - 填报页面：点击通知进入，页面顶部显示任务名称和简要说明。下方是表单内容，预填信息以灰色或不可编辑状态显示，待填写/修改的字段以醒目方式（如输入框、选择器）呈现。
      - 智能交互：对于选择题、日期等，提供友好的选择器；对于文本输入，提供清晰的输入框。
      - 提交按钮：村民完成填写后，点击“提交”按钮。提交成功后显示“提交成功”提示。

- **线下代填（村两委视角）**：
  - **用户故事**：作为村两委成员，我希望能够方便地为不便线上操作的村民代为填写信息，确保所有村民的数据都能被及时录入。
    - **页面逻辑描述**：
      - 代填入口：在任务详情看板的“未完成”村民列表中，点击村民姓名旁边的“代填”按钮。
      - 代填页面：进入与村民线上填写界面完全一致的表单页面，顶部显示“为[村民姓名]代填”字样。村两委可在此页面输入或修改信息。
      - 提交：代填完成后，点击“提交”按钮，数据将以该村民的名义提交。

- **实时催办（村两委视角）**：
  - **用户故事**：作为村两委成员，我希望能够对未完成任务的村民进行一键提醒，提高数据收集效率。
    - **页面逻辑描述**：
      - 催办入口：在任务详情看板的“未完成”村民列表上方，提供“一键催办”按钮。也可在每个未完成村民旁提供单独的“催办”按钮。
      - 催办配置弹窗：允许村两委选择催办对象（所有未完成/指定未完成村民），自定义催办文案，并可设置催办频率（例如：每24小时提醒一次）。
      - 催办记录：在任务详情中显示催办记录，包括催办时间、催办对象和催办结果。

### 3.4 数据审核与导出：一键生成可提交文件

**描述**：所有数据收集完毕后，村两委可在小程序内进行最后的数据总览和审核。确认无误后，点击“导出”，系统会一键生成与上级部门要求完全一致的Excel文件，方便其通过微信等方式提交。

**角色**：村两委

**功能点**：

- **数据总览与审核**：
  - **用户故事**：作为村两委成员，我希望在提交数据前，能够对所有收集到的数据进行最终的检查和修改，确保数据的准确性和完整性。
    - **页面逻辑描述**：
      - 数据总览页：展示所有已收集数据的列表，支持按字段排序、筛选。提供搜索功能。
      - 单条数据编辑：点击列表项可进入单条数据详情页，进行编辑修改。
      - 批量审核：提供批量选择数据进行“通过”、“驳回”或“标记异常”的功能。

- **一键导出**：
  - **用户故事**：作为村两委成员，我希望系统能根据上级要求，一键生成标准格式的Excel文件，方便我直接提交。
    - **页面逻辑描述**：
      - 导出按钮：在数据总览页面提供“导出Excel”按钮。
      - 导出配置：可选择导出全部数据或筛选后的数据。可选择导出文件名称。
      - 导出成功提示：导出成功后，提供文件下载链接或直接发送至微信文件传输助手。

- **便捷提交**：
  - **用户故事**：作为村两委成员，我希望导出的文件能够方便地通过微信等常用工具提交给上级部门。
    - **页面逻辑描述**：
      - 文件分享：导出成功后，提供“分享到微信”、“保存到手机”等选项。

### 3.5数据沉淀：带审核机制的智能更新（解决数据孤岛与资产流失的问题）

**描述**：任务完成后，系统自动将本次收集到的新数据与“善治美村大表”进行比对，并根据比对结果进行智能更新。

**角色**：村两委

**功能点**：

- **新增字段**：
  - **用户故事**：作为村两委成员，我希望系统能自动识别新任务中出现的、村大表尚未包含的字段，并将其自动添加到村大表中，不断丰富数据维度。
    - **页面逻辑描述**：
      - 自动扩充：任务完成后，系统后台自动检测新字段，并将其添加到“村大表”的字段管理中。
      - 通知提示：在“村大表”管理模块或消息中心，提示村两委“有新字段已自动添加”。

- **数据冲突处理**：
  - **用户故事**：作为村两委成员，我希望系统能智能识别新旧数据不一致的情况，并提供一个清晰的审核界面，让我手动确认更新，确保核心数据资产的准确性。
    - **页面逻辑描述**：
      - 冲突识别：系统后台自动比对新旧数据，发现不一致时，将相关数据条目放入“数据冲突审核队列”。
      - 审核队列入口：在“村大表”管理模块中，提供“数据冲突审核”入口，显示待审核数量。
      - 审核页面：展示冲突数据列表，每条数据显示旧值、新值、冲突字段、冲突类型（如“电话号码变更”）。
      - 审核操作：村两委可选择“采纳新值”、“保留旧值”、“手动修改”或“忽略”等操作。支持批量操作。
      - 审核记录：记录所有冲突处理的历史。

### 3.6数据维护——保障资产的持续“鲜活”（解决数字信息更新滞后的问题）

**描述**：提供独立的“村大表”管理模块，支持村两委进行常态化的数据维护工作，确保数据资产的实时性和准确性。

**角色**：村两委

**功能点**：

- **独立管理模块**：
  - **用户故事**：作为村两委成员，我希望有一个专门的模块来管理和维护村级核心数据，能够随时查看、修改和补充村民信息，确保数据的实时性和准确性。
    - **页面逻辑描述**：
      - 模块入口：小程序主页或侧边栏提供“村大表管理”入口。
      - 数据列表：展示“村大表”中所有村民的核心信息列表，支持按姓名、身份证号、组别等进行搜索和筛选。
      - 村民详情页：点击村民列表项进入，展示该村民的所有详细信息，并提供编辑按钮。
      - 新增村民：提供“新增村民”功能，手动录入新的村民信息。

- **即时更新**：
  - **用户故事**：作为村两委成员，我希望能够随时对村民的任一信息进行快速修改和补充，以应对日常的数据更新需求。
    - **页面逻辑描述**：
      - 编辑功能：在村民详情页，点击编辑按钮后，所有字段变为可编辑状态。修改后点击“保存”更新。
      - 操作日志：记录每次修改的操作人、修改时间、修改内容，方便追溯。

